import{r as _,A as se,C as v,D as I,G as B,H as D,J as ie,i as G,K as q,L as A,M as H,N as de,d as K,o as S,g as ue,w,e as h,u as N,O as ce,b as fe,_ as me,c as C,n as M,P as $,T as pe,a as b,t as P,F,f as J,s as ye,x as be}from"./index.f5ade20c.js";const X=(e,o)=>{let a;return function(...t){const l=this;a&&clearTimeout(a),a=setTimeout(()=>{e.apply(l,t),a=null},o)}},ge=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),Z=(e,o,a)=>{for(const t in a){const l="set"+ge(t);e[l]?H(()=>a[t],(r,u)=>{e[l](r,u)}):o[l]&&H(()=>a[t],r=>{o[l](r)})}},V=e=>{const o={};for(const a in e)if(a.startsWith("on")&&!a.startsWith("onUpdate")&&a!=="onReady"){const t=a.slice(2).toLocaleLowerCase();o[t]=e[a]}return o},he=async e=>{const o=await Promise.all([B(()=>import("./marker-icon-2x.17982e67.js"),[]),B(()=>import("./marker-icon.c1a4cbf5.js"),[]),B(()=>import("./marker-shadow.91c47cf3.js"),[])]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:o[0].default,iconUrl:o[1].default,shadowUrl:o[2].default})},k=e=>{const o=_(()=>console.warn(`Method ${e} has been invoked without being replaced`)),a=(...t)=>o.value(...t);return a.wrapped=o,v(e,a),a},z=(e,o)=>e.wrapped.value=o,E=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||void 0,U="useGlobalLeaflet",Q={options:{type:Object,default:()=>({})}},Y=e=>({options:e.options,methods:{}}),ee={...Q,pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},te=(e,o,a)=>{const t=A("addLayer"),l=A("removeLayer"),{options:r,methods:u}=Y(e),s={...r,attribution:e.attribution,pane:e.pane},i=()=>t({leafletObject:o.value}),p=()=>l({leafletObject:o.value}),f={...u,setAttribution(c,x){this.$parent.leafletObject.attributionControl.removeAttribution(x).addAttribution(c)},setName(){p(),e.visible&&i()},setLayerType(){p(),e.visible&&i()},setVisible(c){o.value&&(c?i():p())},bindPopup({leafletObject:c}){o.value.bindPopup(c)},bindTooltip({leafletObject:c}){o.value.bindTooltip(c)},unbindTooltip(){const c=o.value?o.value.getTooltip():null;c&&c.unbindTooltip()},unbindPopup(){const c=o.value?o.value.getPopup():null;c&&c.unbindPopup()},updateVisibleProp(c){a.emit("update:visible",c)}};return v("bindPopup",f.bindPopup),v("bindTooltip",f.bindTooltip),v("unbindTooltip",f.unbindTooltip),v("unbindPopup",f.unbindPopup),de(()=>{f.unbindPopup(),f.unbindTooltip(),p()}),{options:s,methods:f}},ve=(e,o)=>{if(e&&o.default)return q("div",{style:{display:"none"}},o.default())},_e={...ee,pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:void 0}},Le=(e,o,a)=>{const{options:t,methods:l}=te(e,o,a);return{options:{...t,pane:e.pane,opacity:e.opacity,zIndex:e.zIndex,tileSize:e.tileSize,noWrap:e.noWrap,minZoom:e.minZoom,maxZoom:e.maxZoom},methods:{...l}}};var ae={emits:["ready","update:zoom","update:center","update:bounds"],props:{...Q,center:{type:[Object,Array],default:()=>[0,0]},bounds:{type:[Array,Object],default:void 0},maxBounds:{type:[Array,Object],default:void 0},zoom:{type:Number,default:0},minZoom:{type:Number,default:void 0},maxZoom:{type:Number,default:void 0},paddingBottomRight:{type:Array,default:void 0},paddingTopLeft:{type:Array,default:void 0},padding:{type:Array,default:void 0},worldCopyJump:{type:Boolean,default:!1},crs:{type:[String,Object],default:"EPSG3857"},maxBoundsViscosity:{type:Number,default:void 0},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number,default:void 0},inertiaMaxSpeed:{type:Number,default:void 0},easeLinearity:{type:Number,default:void 0},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number,default:void 0},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:!1},useGlobalLeaflet:{type:Boolean,default:!1}},setup(e,o){const a=_(null),t=se({ready:!1,leafletRef:{},layersToAdd:[],layersInControl:[]}),{options:l}=Y(e),r={...l,minZoom:e.minZoom,maxZoom:e.maxZoom,maxBounds:e.maxBounds,maxBoundsViscosity:e.maxBoundsViscosity,worldCopyJump:e.worldCopyJump,crs:e.crs,center:e.center,zoom:e.zoom,inertia:e.inertia,inertiaDeceleration:e.inertiaDeceleration,inertiaMaxSpeed:e.inertiaMaxSpeed,easeLinearity:e.easeLinearity,zoomAnimation:e.zoomAnimation,zoomAnimationThreshold:e.zoomAnimationThreshold,fadeAnimation:e.fadeAnimation,markerZoomAnimation:e.markerZoomAnimation},u=k("addLayer"),s=k("removeLayer"),i=k("registerControl"),p=k("registerLayerControl");v(U,e.useGlobalLeaflet);const f={moveEndHandler(){o.emit("update:zoom",t.leafletRef.getZoom()),o.emit("update:center",t.leafletRef.getCenter()),o.emit("update:bounds",t.leafletRef.getBounds())},overlayAddHandler(m){const g=t.layersInControl.find(L=>L.name===m.name);g&&g.updateVisibleProp(!0)},overlayRemoveHandler(m){const g=t.layersInControl.find(L=>L.name===m.name);g&&g.updateVisibleProp(!1)}};I(async()=>{e.useGlobalLeaflet&&(E.L=E.L||await B(()=>import("./leaflet-src.0347d4be.js").then(function(n){return n.l}),["assets/leaflet-src.0347d4be.js","assets/_commonjsHelpers.b8add541.js"]));const{map:m,CRS:g,Icon:L,latLngBounds:j,latLng:R,DomEvent:W}=e.useGlobalLeaflet?E.L:await B(()=>import("./leaflet-src.esm.5b8a8dab.js"),[]);try{r.beforeMapMount&&await r.beforeMapMount()}catch(n){console.error(`The following error occurred running the provided beforeMapMount hook ${n.message}`)}await he(L);const y=typeof r.crs=="string"?g[r.crs]:r.crs;r.crs=y||g.EPSG3857;const T={addLayer(n){n.layerType!==void 0&&(t.layerControl===void 0?t.layersToAdd.push(n):t.layersInControl.find(O=>O.leafletObject._leaflet_id===n.leafletObject._leaflet_id)||(t.layerControl.addLayer(n),t.layersInControl.push(n))),n.visible!==!1&&t.leafletRef.addLayer(n.leafletObject)},removeLayer(n){n.layerType!==void 0&&(t.layerControl===void 0?t.layersToAdd=t.layersToAdd.filter(d=>d.name!==n.name):(t.layerControl.removeLayer(n.leafletObject),t.layersInControl=t.layersInControl.filter(d=>d.leafletObject._leaflet_id!==n.leafletObject._leaflet_id))),t.leafletRef.removeLayer(n.leafletObject)},registerLayerControl(n){t.layerControl=n,t.layersToAdd.forEach(d=>{t.layerControl.addLayer(d)}),t.layersToAdd=[],i(n)},registerControl(n){t.leafletRef.addControl(n.leafletObject)},setZoom(n){const d=t.leafletRef.getZoom();n!==d&&t.leafletRef.setZoom(n,{animate:e.noBlockingAnimations?!1:null})},setPaddingBottomRight(n){t.paddingBottomRight=n},setPaddingTopLeft(n){t.paddingTopLeft=n},setPadding(n){t.padding=n},setCrs(n){const d=t.leafletRef.getBounds();t.leafletRef.options.crs=n,t.leafletRef.fitBounds(d,{animate:!1,padding:[0,0]})},fitBounds(n){t.leafletRef.fitBounds(n,{animate:this.noBlockingAnimations?!1:null})},setBounds(n){if(!n)return;const d=j(n);if(!d.isValid())return;!(t.lastSetBounds||t.leafletRef.getBounds()).equals(d,0)&&(t.lastSetBounds=d,t.leafletRef.fitBounds(d,this.fitBoundsOptions))},setCenter(n){if(n==null)return;const d=R(n),O=t.lastSetCenter||t.leafletRef.getCenter();(O.lat!==d.lat||O.lng!==d.lng)&&(t.lastSetCenter=d,t.leafletRef.panTo(d,{animate:this.noBlockingAnimations?!1:null}))}};z(u,T.addLayer),z(s,T.removeLayer),z(i,T.registerControl),z(p,T.registerLayerControl),t.leafletRef=m(a.value,r),Z(T,t.leafletRef,e);const re=V(o.attrs);t.leafletRef.on("moveend",X(f.moveEndHandler,100)),t.leafletRef.on("overlayadd",f.overlayAddHandler),t.leafletRef.on("overlayremove",f.overlayRemoveHandler),W.on(t.leafletRef,re),t.ready=!0,D(()=>o.emit("ready",t.leafletRef))}),ie(()=>{t.leafletRef&&t.leafletRef.remove()});const c=G(()=>t.leafletRef),x=G(()=>t.ready);return{root:a,ready:x,leafletObject:c}},render(){return q("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready?this.$slots.default():{})}};ae.__file="src/components/LMap.vue";const Se={...ee,pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],default:()=>{},custom:!1},zIndexOffset:{type:Number,custom:!1,default:null}},Be=(e,o,a)=>{const{options:t,methods:l}=te(e,o,a),r={...t,...e},u={...l,setDraggable(s){o.value.dragging&&(s?o.value.dragging.enable():o.value.dragging.disable())},latLngSync(s){a.emit("update:latLng",s.latlng),a.emit("update:lat-lng",s.latlng)},setLatLng(s){if(s!=null&&o.value){const i=o.value.getLatLng();(!i||!i.equals(s))&&o.value.setLatLng(s)}}};return{options:r,methods:u}};var oe={name:"LMarker",props:Se,setup(e,o){const a=_({}),t=_(!1),l=A(U),r=A("addLayer");v("canSetParentHtml",()=>!!a.value.getElement()),v("setParentHtml",i=>a.value.getElement().innerHTML=i),v("setIcon",i=>a.value.setIcon&&a.value.setIcon(i));const{options:u,methods:s}=Be(e,a,o);return u.icon===void 0&&delete u.icon,I(async()=>{const{marker:i,DomEvent:p}=l?E.L:await B(()=>import("./leaflet-src.esm.5b8a8dab.js"),[]);a.value=i(e.latLng,u);const f=V(o.attrs);p.on(a.value,f),a.value.on("move",X(s.latLngSync,100)),Z(s,a.value,e),r({...e,...s,leafletObject:a.value}),t.value=!0,D(()=>o.emit("ready",a.value))}),{ready:t,leafletObject:a}},render(){return ve(this.ready,this.$slots)}};oe.__file="src/components/LMarker.vue";const ne={..._e,tms:{type:Boolean,default:!1},subdomains:{type:String,default:"abc"},detectRetina:{type:Boolean,default:!1},url:{type:String,default:null}},Ce=(e,o)=>{const{options:a,methods:t}=Le(e,o);return{options:{...a,tms:e.tms,subdomains:e.subdomains,detectRetina:e.detectRetina},methods:{...t}}};var le={props:ne,setup(e,o){const a=_({}),t=A(U),l=A("addLayer"),{options:r,methods:u}=Ce(e,a);return I(async()=>{const{tileLayer:s,DomEvent:i}=t?E.L:await B(()=>import("./leaflet-src.esm.5b8a8dab.js"),[]);a.value=s(e.url,r);const p=V(o.attrs);i.on(a.value,p),Z(u,a.value,e),l({...e,...u,leafletObject:a.value}),D(()=>o.emit("ready",a.value))}),{leafletObject:a}},render(){return null}};le.__file="src/components/LTileLayer.vue";({...ne});const We=K({__name:"MiniMap",props:{lat:null,lng:null,initialZoom:{default:17}},setup(e){const a=_(e.initialZoom);return(t,l)=>e.lat&&e.lng?(S(),ue(N(ae),{key:0,ref:"map",zoom:a.value,"onUpdate:zoom":l[0]||(l[0]=r=>a.value=r),center:[e.lat,e.lng],style:{height:"30vh","min-height":"15rem","max-height":"25rem"},options:{dragging:!1,zoomControl:!0,scrollWheelZoom:!1}},{default:w(()=>[h(N(le),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),ce(t.$slots,"default",{},()=>[h(N(oe),{"lat-lng":[e.lat,e.lng]},null,8,["lat-lng"])])]),_:3},8,["zoom","center"])):fe("",!0)}});const Ae=e=>(ye("data-v-8d79fa3e"),e=e(),be(),e),xe={class:"noise-chart-wrapper"},Te={class:"text-xl"},Oe={class:"noise-chart"},we={class:"chart",viewBox:"0 0 600 700","aria-labelledby":"title desc",role:"img"},Ee=["transform"],Re=["transform"],Pe={x:"0",y:-16,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"#fff",class:"bi bi-arrow-bar-left",viewBox:"0 0 16 16"},ke=Ae(()=>b("path",{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"},null,-1)),ze=[ke],Ne={x:"32",y:"0",dy:"10",class:"label"},Ie=["transform"],je=["fill","height"],Me={x:"10",y:"15",dy:"15",class:"label"},$e=["transform"],De={x:"-20",y:"0",dy:"10",class:"label"},Ze=K({__name:"ChartNoise",props:{dba:null},setup(e){const o=e,a=600,t=250,l=600/2-t/2,r=t,u=R=>R*10/2,s=_(0);let i=-1;I(()=>{i=window.setInterval(()=>{s.value<o.dba?s.value++:(s.value=+o.dba.toFixed(0),i&&clearInterval(i))},10)});const p={headline:"L\xE4rmeinsch\xE4tzung durch Referenzwerte",type:"references",data:[{dbStart:0,dbStop:20,color:"rgb(0,240,0)",label:"Bl\xE4tterrauschen"},{dbStart:20,dbStop:40,color:"rgb(75,243,0)",label:"Tickende Uhr"},{dbStart:40,dbStop:60,color:"rgb(160,247,0)",label:"Unterhaltung"},{dbStart:60,dbStop:70,color:"rgb(221,250,0)",label:"Staubsauger"},{dbStart:70,dbStop:80,color:"rgb(253,233,14)",label:"PKW Verkehr"},{dbStart:80,dbStop:90,color:"rgb(253,179,41)",label:"Baustellenarbeit"},{dbStart:90,dbStop:100,color:"rgb(253,145,54)",label:"Motors\xE4ge"},{dbStart:100,dbStop:110,color:"rgb(253,108,67)",label:"Rockkonzert"},{dbStart:110,dbStop:120,color:"rgb(253,81,81)",label:"D\xFCsenflugzeuge"}]},f={headline:"L\xE4rmeinsch\xE4tzung w\xE4hrend des Tages (6 - 22 Uhr)",type:"day",data:[{dbStart:0,dbStop:55,color:"rgb(0,240,0)",label:"Leise"},{dbStart:55,dbStop:120,color:"rgb(253,81,81)",label:"Laut"}]},c={headline:"L\xE4rmeinsch\xE4tzung w\xE4hrend der Nacht (22 - 6 Uhr)",type:"night",data:[{dbStart:0,dbStop:40,color:"rgb(0,240,0)",label:"Leise"},{dbStart:40,dbStop:120,color:"rgb(253,81,81)",label:"Laut"}]},x=[0,20,40,60,80,100,120],m=_(p),g=()=>{m.value=p},L=()=>{m.value=f},j=()=>{m.value=c};return(R,W)=>(S(),C("div",xe,[h(pe,null,{default:w(()=>[h(M,{active:m.value.type==="references",onClick:g},{default:w(()=>[h($,{"icon-key":"bi-soundwave"})]),_:1},8,["active"]),h(M,{active:m.value.type==="night",onClick:j},{default:w(()=>[h($,{"icon-key":"bi-moon-stars"})]),_:1},8,["active"]),h(M,{active:m.value.type==="day",onClick:L},{default:w(()=>[h($,{"icon-key":"bi-brightness-high"})]),_:1},8,["active"])]),_:1}),b("h3",Te,P(m.value.headline),1),b("div",Oe,[(S(),C("svg",we,[b("g",{transform:"translate(0, 50)"},[b("rect",{class:"main-bar",transform:"translate(0, 0)",x:l,y:"0",width:t,height:a,fill:"#444"}),b("g",{class:"marker",transform:`translate(${l+N(r)}, ${a-u(s.value)})`},[(S(),C("svg",Pe,ze)),b("text",Ne,P(s.value.toLocaleString("de-DE"))+" dB(A) ",1)],8,Re),(S(!0),C(F,null,J(m.value.data,y=>(S(),C("g",{key:y.label,class:"bar",transform:`translate(${l}, ${a-u(y.dbStop)})`},[b("rect",{x:"0",y:"0",fill:y.color,width:t,height:u(y.dbStop-y.dbStart)},null,8,je),b("text",Me,P(y.label),1)],8,Ie))),128)),(S(),C(F,null,J(x,y=>b("g",{key:y,class:"reference-dbas",transform:`translate(${l}, ${a-u(y)})`},[b("rect",{x:"0",y:"-2.5",fill:"rgba(0,0,0,.2)",width:t,height:5}),b("text",De,P(y)+" dB(A) ",1)],8,$e)),64))],8,Ee)]))])]))}});var Ge=me(Ze,[["__scopeId","data-v-8d79fa3e"]]);export{Ge as C,We as _};
