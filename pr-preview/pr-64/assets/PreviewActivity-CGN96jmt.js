import{_ as v}from"./MiniMap.vue_vue_type_script_setup_true_lang-DymzYpua.js";import{u as _}from"./useEntityState-Ac-cwLKy.js";import{d as w,r as S,g as k,o as t,e as B,f as E,u as r,M,c,D as h,i,F as x}from"./index-CxXxhLfe.js";import"./vue-leaflet.es-DhOzzjwW.js";const P=w({__name:"PreviewActivity",props:{sensor:{}},setup(u){const l=u,{busy:m,setBusy:d,setIdle:f,error:p,setError:g}=_(),e=S();return k(async()=>{d();const o=l.sensor;if(await o.getPermission()==="denied"){g(new Error("Zugriff auf den Geolocation Sensor verweigert."));return}e.value=await o.getLocation(),f()}),(o,y)=>{var a,s,n;return t(),B(x,null,[E(r(M),{error:r(p)},null,8,["error"]),r(m)?(t(),c(r(h),{key:0,title:"Sensorvorschau wird geladen"})):i("",!0),e.value?(t(),c(v,{key:1,lng:(a=e.value)==null?void 0:a.coords.longitude,lat:(s=e.value)==null?void 0:s.coords.latitude,accuracy:(n=e.value)==null?void 0:n.coords.accuracy},null,8,["lng","lat","accuracy"])):i("",!0)],64)}}});export{P as default};
