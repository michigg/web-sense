import{_ as v}from"./MiniMap.vue_vue_type_script_setup_true_lang-RcnVvV3w.js";import{u as _}from"./useEntityState-uGIAK0nZ.js";import{d as w,r as S,f as k,o as t,e as B,h as E,u as r,M as h,c,D as M,i,F as x}from"./index-ZJLafX8j.js";import"./vue-leaflet.es-HDh_HI3H.js";const P=w({__name:"PreviewActivity",props:{sensor:{}},setup(u){const l=u,{busy:m,setBusy:d,setIdle:f,error:p,setError:g}=_(),e=S();return k(async()=>{d();const o=l.sensor;if(await o.getPermission()==="denied"){g(new Error("Zugriff auf den Geolocation Sensor verweigert."));return}e.value=await o.getLocation(),f()}),(o,y)=>{var a,s,n;return t(),B(x,null,[E(r(h),{error:r(p)},null,8,["error"]),r(m)?(t(),c(r(M),{key:0,title:"Sensorvorschau wird geladen"})):i("",!0),e.value?(t(),c(v,{key:1,lng:(a=e.value)==null?void 0:a.coords.longitude,lat:(s=e.value)==null?void 0:s.coords.latitude,accuracy:(n=e.value)==null?void 0:n.coords.accuracy},null,8,["lng","lat","accuracy"])):i("",!0)],64)}}});export{P as default};
